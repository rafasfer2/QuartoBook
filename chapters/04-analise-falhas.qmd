# An√°lise de Dados de Falha com R

## Introdu√ß√£o

An√°lise pr√°tica de dados de falha incluindo censura, tabelas de vida e visualiza√ß√µes.

## Tipos de Censura

### Censura √† Direita

Observa√ß√£o interrompida antes da falha (mais comum).

### Censura √† Esquerda

Falha ocorreu antes do in√≠cio da observa√ß√£o.

### Censura Intervalar

Falha ocorreu em um intervalo de tempo.

## Prepara√ß√£o de Dados

```{r}
#| label: data-prep
#| warning: false

library(survival)
library(tidyverse)

# Dados de exemplo
dados_falha <- data.frame(
  tempo = c(120, 145, 180, 200, 250, 300, 350, 400, 450, 500),
  status = c(1, 1, 1, 0, 1, 0, 1, 1, 0, 1),  # 1=falha, 0=censura
  equipamento = paste0("Equip_", 1:10)
)

# Criar objeto Surv
surv_obj <- Surv(time = dados_falha$tempo, event = dados_falha$status)

print(surv_obj)
```

## Tabela de Vida

```{r}
#| label: life-table

library(kableExtra)

# Criar tabela de vida
life_table <- dados_falha %>%
  arrange(tempo) %>%
  mutate(
    n_risk = n():1,
    n_event = status,
    survival = cumprod(1 - n_event/n_risk)
  )

kable(life_table, digits = 3) %>%
  kable_styling(bootstrap_options = c("striped", "hover"))
```

## Curva de Kaplan-Meier

```{r}
#| label: km-curve

library(survminer)

# Ajuste Kaplan-Meier
km_fit <- survfit(surv_obj ~ 1)

# Visualizar
ggsurvplot(km_fit,
           data = dados_falha,
           conf.int = TRUE,
           risk.table = TRUE,
           title = "Curva de Sobreviv√™ncia - Kaplan-Meier")
```

## Exerc√≠cios

üìù **Exerc√≠cio 1**: Analise dados com diferentes tipos de censura.

üìù **Exerc√≠cio 2**: Compare curvas KM de grupos diferentes.

## Resumo

üîî **Pontos-chave:**

- Censura √© comum em dados de confiabilidade
- Pacote `survival` √© essencial para an√°lise
- Kaplan-Meier √© m√©todo n√£o-param√©trico robusto

---

**Pr√≥ximo cap√≠tulo:** Modelagem Weibull na Pr√°tica
