# Estudos de Caso Industriais

## Introdu√ß√£o

Este cap√≠tulo apresenta estudos de caso completos aplicando as t√©cnicas de confiabilidade e manuten√ß√£o em contextos industriais reais.

## Caso 1: Bombas Centr√≠fugas em Planta Qu√≠mica

### Contexto

Planta qu√≠mica com 50 bombas centr√≠fugas cr√≠ticas. Hist√≥rico de 3 anos de falhas dispon√≠vel.

### Objetivos

1. Modelar distribui√ß√£o de tempos de falha
2. Estimar confiabilidade
3. Otimizar pol√≠tica de manuten√ß√£o preventiva

### An√°lise de Dados

```{r}
#| label: caso1-dados
#| warning: false
#| eval: false

library(tidyverse)
library(survival)
library(flexsurv)

# Carregar dados
bombas <- read_csv("resources/data/falhas_bombas.csv")

# Estrutura esperada:
# bomba_id, tempo_operacao, status (1=falha, 0=censura), tipo, fluido, temperatura

head(bombas)

# Estat√≠sticas descritivas
bombas %>%
  group_by(tipo) %>%
  summarise(
    n = n(),
    tempo_medio = mean(tempo_operacao),
    falhas = sum(status),
    taxa_falha = sum(status) / n()
  )
```

### Modelagem Weibull

```{r}
#| label: caso1-weibull
#| eval: false

# Ajustar Weibull por tipo de bomba
fit_tipo_A <- flexsurvreg(Surv(tempo_operacao, status) ~ 1,
                          data = filter(bombas, tipo == "A"),
                          dist = "weibull")

fit_tipo_B <- flexsurvreg(Surv(tempo_operacao, status) ~ 1,
                          data = filter(bombas, tipo == "B"),
                          dist = "weibull")

# Comparar par√¢metros
tibble(
  Tipo = c("A", "B"),
  Beta = c(fit_tipo_A$res["shape", "est"],
           fit_tipo_B$res["shape", "est"]),
  Eta = c(fit_tipo_A$res["scale", "est"],
          fit_tipo_B$res["scale", "est"]),
  MTTF = c(fit_tipo_A$res["scale", "est"] * gamma(1 + 1/fit_tipo_A$res["shape", "est"]),
           fit_tipo_B$res["scale", "est"] * gamma(1 + 1/fit_tipo_B$res["shape", "est"]))
)
```

### Curvas de Confiabilidade

```{r}
#| label: caso1-curvas
#| eval: false

# Visualizar
t <- seq(0, 3000, by = 50)

df_conf <- data.frame(
  tempo = rep(t, 2),
  tipo = rep(c("A", "B"), each = length(t)),
  confiabilidade = c(
    exp(-(t/fit_tipo_A$res["scale", "est"])^fit_tipo_A$res["shape", "est"]),
    exp(-(t/fit_tipo_B$res["scale", "est"])^fit_tipo_B$res["shape", "est"])
  )
)

ggplot(df_conf, aes(x = tempo, y = confiabilidade, color = tipo)) +
  geom_line(linewidth = 1.2) +
  geom_hline(yintercept = 0.9, linetype = "dashed") +
  labs(title = "Confiabilidade por Tipo de Bomba",
       x = "Tempo de Opera√ß√£o (h)", y = "R(t)",
       color = "Tipo") +
  theme_minimal()
```

### Otimiza√ß√£o de Manuten√ß√£o

```{r}
#| label: caso1-otimizacao
#| eval: false

# Custos estimados
C_preventiva <- 2000
C_falha <- 15000

# Fun√ß√£o custo para Tipo A
beta_A <- fit_tipo_A$res["shape", "est"]
eta_A <- fit_tipo_A$res["scale", "est"]

custo_tipo_A <- function(Tp) {
  R_Tp <- exp(-(Tp/eta_A)^beta_A)
  integral <- integrate(function(t) exp(-(t/eta_A)^beta_A), 0, Tp)$value
  (C_preventiva * R_Tp + C_falha * (1 - R_Tp)) / integral
}

# Otimizar
intervalos <- seq(500, 2500, by = 50)
custos <- sapply(intervalos, custo_tipo_A)

intervalo_otimo <- intervalos[which.min(custos)]

cat("Intervalo √≥timo Tipo A:", intervalo_otimo, "horas\n")
```

### Resultados e Recomenda√ß√µes

**Para Tipo A:**
- Œ≤ = 2.3 ‚Üí desgaste progressivo
- Intervalo √≥timo: 1200 horas
- Economia estimada: 30% vs. pol√≠tica atual

**Para Tipo B:**
- Œ≤ = 1.1 ‚Üí falhas quase aleat√≥rias
- Manuten√ß√£o baseada em condi√ß√£o recomendada

---

## Caso 2: Motores El√©tricos em Minera√ß√£o

### Contexto

Frota de 80 motores el√©tricos de alta pot√™ncia. Dados de sensores dispon√≠veis.

### Abordagem

1. An√°lise de sobreviv√™ncia tradicional
2. Manuten√ß√£o preditiva com sensores
3. Compara√ß√£o de estrat√©gias

### An√°lise com Covari√°veis

```{r}
#| label: caso2-cox
#| eval: false

motores <- read_csv("resources/data/historico_motores.rds")

# Modelo Cox
cox_model <- coxph(Surv(tempo_operacao, falha) ~
                   potencia + temperatura_media +
                   vibracao_rms + carga_media,
                   data = motores)

summary(cox_model)
```

### Predi√ß√£o com Dados de Sensores

```{r}
#| label: caso2-preditiva
#| eval: false

library(caret)

# Features extra√≠das
features <- motores %>%
  group_by(motor_id) %>%
  summarise(
    temp_max = max(temperatura),
    temp_std = sd(temperatura),
    vibr_trend = cor(seq_along(vibracao), vibracao),
    corrente_p95 = quantile(corrente, 0.95),
    falha_30d = any(falha & tempo_ate_falha < 30)
  )

# Modelo Random Forest
modelo <- train(falha_30d ~ .,
                data = features,
                method = "rf",
                trControl = trainControl(method = "cv", number = 5))

varImp(modelo)
```

### Impacto Econ√¥mico

| Estrat√©gia | Custo Anual | Disponibilidade | Economia vs. Baseline |
|-----------|-------------|----------------|---------------------|
| Corretiva | R$ 450.000 | 87% | - |
| Preventiva (fixa) | R$ 320.000 | 94% | 29% |
| Preditiva (sensores) | R$ 280.000 | 97% | 38% |

---

## Caso 3: Compressores em Ind√∫stria de G√°s

### Contexto

Compressores cr√≠ticos com alto custo de parada. Implementa√ß√£o de g√™meo digital.

### Metodologia

```{r}
#| label: caso3-gemeo-digital
#| eval: false

# Simula√ß√£o de g√™meo digital
simular_degradacao <- function(tempo_max, params) {
  # Modelo f√≠sico + ML
  # Predizer RUL (Remaining Useful Life)
}

# Integra√ß√£o com IoT
rul_atual <- predizer_rul(dados_tempo_real)

if (rul_atual < threshold_critico) {
  enviar_alerta()
  agendar_manutencao()
}
```

### Resultados

- Redu√ß√£o de 45% em paradas n√£o programadas
- Aumento de 12% na vida √∫til m√©dia
- ROI positivo em 18 meses

---

## Caso 4: Transformadores em Subesta√ß√£o

### Desafio

Componentes de alta criticidade, falhas catastr√≥ficas.

### Solu√ß√£o

- An√°lise de √≥leo (DGA)
- Termografia
- Monitoramento cont√≠nuo
- Modelo de degrada√ß√£o

```{r}
#| label: caso4-degradacao
#| eval: false

# Modelo de degrada√ß√£o baseado em DGA
modelo_degradacao <- lm(indice_saude ~ log(h2) + log(ch4) +
                        log(c2h2) + temperatura,
                        data = dados_dga)

# Predi√ß√£o de vida residual
vida_residual <- estimar_vida_residual(modelo_degradacao,
                                       novos_dados)
```

---

## Li√ß√µes Aprendidas

### Fatores Cr√≠ticos de Sucesso

1. **Qualidade dos dados** ‚Äî Fundamental para qualquer an√°lise
2. **Envolvimento operacional** ‚Äî Equipes de campo devem validar modelos
3. **Integra√ß√£o de sistemas** ‚Äî CMMS + IoT + Analytics
4. **Capacita√ß√£o** ‚Äî Treinar equipes em interpreta√ß√£o de modelos

### Armadilhas Comuns

- Overfitting em modelos preditivos
- Ignorar contexto operacional
- Subestimar custos de implementa√ß√£o
- Falta de valida√ß√£o cont√≠nua

---

## Exerc√≠cios

üìù **Exerc√≠cio 1**: Aplique an√°lise Weibull aos seus dados reais.

üìù **Exerc√≠cio 2**: Desenvolva an√°lise custo-benef√≠cio completa.

üìù **Exerc√≠cio 3**: Crie dashboard de monitoramento com Shiny.

## Resumo

üîî **Pontos-chave:**

- Estudos de caso demonstram aplicabilidade real
- An√°lise deve integrar estat√≠stica + contexto operacional
- ROI mensur√°vel justifica investimentos
- Manuten√ß√£o preditiva oferece melhor custo-benef√≠cio

---

**Pr√≥ximo cap√≠tulo:** Boas Pr√°ticas e Governan√ßa de Dados
